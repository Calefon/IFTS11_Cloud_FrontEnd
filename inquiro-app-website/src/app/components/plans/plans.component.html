<section class="max-w-7xl mx-auto px-4 py-16">
  <h2 class="text-5xl text-[#0B0430] font-medium text-center">Plans</h2>

  <!-- Billing toggle -->
  <div class="mt-6 flex items-center justify-center gap-3">
    @if(billing() === 'monthly'){
    <button
      type="button"
      (click)="billing.set('monthly')"
      class="px-3 py-1.5 bg-[#0B0430] hover:bg-[#2A1F5A] text-white rounded-lg text-xl border transition cursor-pointer"
    >
      Monthly
    </button>

    <button
      type="button"
      (click)="billing.set('yearly')"
      class="px-3 py-1.5 rounded-lg text-xl border transition cursor-pointer hover:bg-gray-50"
    >
      Yearly <span class="ml-1 text-xm text-emerald-600">Save 20%</span>
    </button>
    } @else {
    <button
      type="button"
      (click)="billing.set('monthly')"
      class="px-3 py-1.5 rounded-lg text-xl border transition cursor-pointer hover:bg-gray-50"
    >
      Monthly
    </button>

    <button
      type="button"
      (click)="billing.set('yearly')"
      class="px-3 py-1.5 rounded-lg text-xl border transition bg-[#0B0430] hover:bg-[#2A1F5A] text-white cursor-pointer"
    >
      Yearly <span class="ml-1 text-xm text-green-500">Save 20%</span>
    </button>
    }
  </div>

  <!-- Cards grid -->
  <div class="mt-10 grid gap-8 md:grid-cols-3">
    @for (p of plans; track p.id) {
    <app-plans-plan
      [title]="p.title"
      [description]="p.description"
      [price]="billing() === 'monthly' ? p.monthly : p.yearly"
      [period]="billing() === 'monthly' ? 'month' : 'mo (billed yearly)'"
      [badge]="p.badge"
      [highlight]="p.highlight ?? false"
      [ctaLabel]="p.ctaLabel"
      [ctaHref]="p.ctaHref"
      [features]="p.features"
    />
    }
  </div>
</section>
